# [Source: 66] 数据预处理方案配置 - 纯 OpenCV 版

paths:
  # --- 数据路径配置 ---
  # 注意：这些是相对于项目根目录的路径
  raw_dataset_dir: "data/raw"             # 原始数据存放路径
  output_dir: "data/processed"            # (ROI处理阶段用)
  output_csv: "data/metadata/cleaned_dataset.csv" # 清洗结果
  logs_dir: "logs"                        # 日志存放


roi_params:
  target_size: 224
  # 常量填充
  padding_mode: "constant"
  #填充颜色，0代表黑色
  padding_value: 0

  # 垂直搜索限制 (忽略顶部和底部的比例)
  # 忽略顶部 15% 和底部 15% 的区域，防止光斑干扰
  vertical_margin_top: 0.15
  vertical_margin_bottom: 0.15

qc_params:
  # 必须的文件列表
  required_files: ["es_0", "es_1", "es_2", "es_3", "es_4", "es_5"]

  # --- 阈值参数 ---

  # [清晰度阈值] (Laplacian Variance)
  # 红外图通常比较柔和，阈值设低一点，防止误删
  blur_threshold: 20.0

  # [亮度阈值] (全图均值 0-255)
  # 背景是黑的，所以下限要非常低
  dark_threshold: 3.0
  sat_threshold: 254.0

  # [核心参数：反射斑阈值] (0-255)
  # 只要眼睛区域内有像素亮度超过这个值，就认为“拍到了红外反光”，即为有效
  # 你的 es_0.jpg 瞳孔极亮，设为 100 是安全的
  reflection_threshold: 175.0